<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-10-30T15:56:55.060956674"><title>Table types | Exposed</title><script type="application/json" id="virtual-toc-data">[{"id":"defining-tables","level":0,"title":"Auto-incrementing id column tables","anchor":"#defining-tables"},{"id":"composite-id-table","level":0,"title":"Composite id table","anchor":"#composite-id-table"},{"id":"custom-column-type","level":0,"title":"Custom column type table","anchor":"#custom-column-type"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Table types | Exposed"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Exposed Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/docs/0.56.0/dao-table-types.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Table types | Exposed"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/docs/0.56.0/dao-table-types.html#webpage",
    "url": "writerside-documentation/docs/0.56.0/dao-table-types.html",
    "name": "Table types | Exposed",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/docs/#website",
    "url": "writerside-documentation/docs/",
    "name": "Exposed Help"
}</script><!-- End Schema.org --></head><body data-id="DAO-Table-Types" data-main-title="Table types" data-article-props="{&quot;seeAlso&quot;:[{&quot;title&quot;:&quot;Related topics&quot;,&quot;links&quot;:[{&quot;url&quot;:&quot;working-with-tables.html&quot;,&quot;text&quot;:&quot;Working with tables&quot;,&quot;tooltip&quot;:&quot;In this topic, we will explain how to define, configure, and create tables. All examples use the H2 database to generate SQL.&quot;,&quot;description&quot;:&quot;In this topic, we will explain how to define, configure, and create tables. All examples use the H2 database to generate SQL.&quot;},{&quot;url&quot;:&quot;data-types.html&quot;,&quot;text&quot;:&quot;Data Types&quot;,&quot;tooltip&quot;:&quot;Exposed supports the following data types in the table definition:&quot;,&quot;description&quot;:&quot;Exposed supports the following data types in the table definition:&quot;}]}],&quot;seeAlsoStyle&quot;:&quot;cards&quot;}" data-template="article" data-breadcrumbs="Deep Dive into DAO"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Exposed 0.56.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="DAO-Table-Types" id="DAO-Table-Types.topic">Table types</h1><p> In Exposed, the <code class="code" id="i5nfzy4_81">Table</code> class is the core abstraction for defining database tables. This class provides methods to define various <a href="data-types.html" id="i5nfzy4_82" data-tooltip="Exposed supports the following data types in the table definition:">column types</a>, <a href="working-with-tables.html#constraints" id="i5nfzy4_83" data-tooltip="The NOT NULL SQL constraint restricts the column to accept the null value. By default, Exposed applies this constraint to all the columns. To allow the column to be nullable, apply the nullable() method to a definition of an appropriate column.">constraints</a>, and other table-specific properties. </p><section class="chapter"><h2 id="defining-tables" data-toc="defining-tables">Auto-incrementing <code class="code" id="i5nfzy4_3">id</code> column tables</h2><p id="i5nfzy4_4">Apart from the core <code class="code" id="i5nfzy4_5">Table</code> class, Exposed provides the base <code class="code" id="i5nfzy4_6">IdTable</code> class and its subclasses through the DAO API.</p><p id="i5nfzy4_7">The <code class="code" id="i5nfzy4_8">IdTable</code> class extends <code class="code" id="i5nfzy4_9">Table</code> and is designed to simplify the definition of tables that use a standard <code class="code" id="i5nfzy4_10">id</code> column as the primary key. These tables can be declared without explicitly including the <code class="code" id="i5nfzy4_11">id</code> column, as IDs of the appropriate type are automatically generated when creating new table rows.</p><p id="i5nfzy4_12"><code class="code" id="i5nfzy4_13">IdTable</code> and its subclasses are located in the <span class="control" id="i5nfzy4_14">org.jetbrains.exposed.dao.id</span> package of the <span class="control" id="i5nfzy4_15">exposed-core</span> module.</p><dl id="i5nfzy4_16" data-style="title-left" data-title-width="medium"><dt id="IntIdTable" data-expandable="false"><a href="https://jetbrains.github.io/Exposed/api/exposed-core/org.jetbrains.exposed.dao.id/-int-id-table/index.html" id="i5nfzy4_18" data-external="true" rel="noopener noreferrer"><code class="code" id="i5nfzy4_19">IntIdTable</code></a></dt><dd><p> <code class="code" id="i5nfzy4_20">Int</code> id column</p></dd><dt id="LongIdTable" data-expandable="false"><a href="https://jetbrains.github.io/Exposed/api/exposed-core/org.jetbrains.exposed.dao.id/-long-id-table/index.html" id="i5nfzy4_22" data-external="true" rel="noopener noreferrer"><code class="code" id="i5nfzy4_23">LongIdTable</code></a></dt><dd><p> <code class="code" id="i5nfzy4_24">Long</code> id column</p></dd><dt id="UIntIdTable" data-expandable="false"><a href="https://jetbrains.github.io/Exposed/api/exposed-core/org.jetbrains.exposed.dao.id/-u-int-id-table/index.html" id="i5nfzy4_26" data-external="true" rel="noopener noreferrer"><code class="code" id="i5nfzy4_27">UIntIdTable</code></a></dt><dd><p> <code class="code" id="i5nfzy4_28">UInt</code> id column</p></dd><dt id="ULongIdTable" data-expandable="false"><a href="https://jetbrains.github.io/Exposed/api/exposed-core/org.jetbrains.exposed.dao.id/-u-long-id-table/index.html" id="i5nfzy4_30" data-external="true" rel="noopener noreferrer"><code class="code" id="i5nfzy4_31">ULongIdTable</code></a></dt><dd><p> <code class="code" id="i5nfzy4_32">ULong</code> id column</p></dd><dt id="UUIDTable" data-expandable="false"><a href="https://jetbrains.github.io/Exposed/api/exposed-core/org.jetbrains.exposed.dao.id/-u-u-i-d-table/index.html" id="i5nfzy4_34" data-external="true" rel="noopener noreferrer"><code class="code" id="i5nfzy4_35">UUIDTable</code></a></dt><dd><p> <code class="code" id="i5nfzy4_36">UUID</code> id column</p></dd></dl><p id="i5nfzy4_37">The following example represents a table with custom columns <code class="code" id="i5nfzy4_38">sequel_id</code>, <code class="code" id="i5nfzy4_39">name</code>, and <code class="code" id="i5nfzy4_40">director</code>:</p><div class="code-block" data-lang="kotlin" id="StarWarsFilmsTable-code-block" data-disable-link-processing="true">import org.jetbrains.exposed.dao.id.IntIdTable

const val MAX_VARCHAR_LENGTH = 50

object StarWarsFilmsTable : IntIdTable() {
    val sequelId = integer(&quot;sequel_id&quot;).uniqueIndex()
    val name = varchar(&quot;name&quot;, MAX_VARCHAR_LENGTH)
    val director = varchar(&quot;director&quot;, MAX_VARCHAR_LENGTH)
}</div><p id="i5nfzy4_41"> The <code class="code" id="i5nfzy4_42">IntIdTable</code> class automatically generates an auto-incrementing integer <code class="code" id="i5nfzy4_43">id</code> column, which serves as the primary key for the table.  When the table is created, it corresponds to the following SQL query:</p><div class="code-block" data-lang="sql" data-disable-link-processing="true">    CREATE TABLE IF NOT EXISTS STARWARSFILMS
    (ID INT AUTO_INCREMENT PRIMARY KEY,
    SEQUEL_ID INT NOT NULL,
    &quot;name&quot; VARCHAR(50) NOT NULL,
    DIRECTOR VARCHAR(50) NOT NULL);</div><p id="i5nfzy4_45">For more information on defining and configuring tables in Exposed, see <a href="working-with-tables.html" id="i5nfzy4_46" data-tooltip="In this topic, we will explain how to define, configure, and create tables. All examples use the H2 database to generate SQL.">Working with tables</a>.</p></section><section class="chapter"><h2 id="composite-id-table" data-toc="composite-id-table">Composite id table</h2><p id="i5nfzy4_47">To define multiple columns as part of the primary key and id, use <a href="https://jetbrains.github.io/Exposed/api/exposed-core/org.jetbrains.exposed.dao.id/-composite-id-table/index.html" id="i5nfzy4_48" data-external="true" rel="noopener noreferrer"><code class="code" id="i5nfzy4_49">CompositeIdTable</code></a> and mark each composite column using <code class="code" id="i5nfzy4_50">entityId()</code>. Each component column will be available for CRUD operations either individually (as for any standard column) or all together as part of the <code class="code" id="i5nfzy4_51">id</code> column:</p><div class="tabs" id="i5nfzy4_52" data-anchors="[DirectorEntity-definition,DirectorsTable-definition]"><div class="tabs__content" data-gtm="tab" id="DirectorsTable-definition" data-title="DirectorsTable"><div class="code-block" data-lang="kotlin" data-title="Kotlin" data-disable-link-processing="true">package org.example.tables

import org.jetbrains.exposed.dao.id.CompositeIdTable

enum class Genre { HORROR, DRAMA, THRILLER, SCI_FI }

const val NAME_LENGTH = 50

object DirectorsTable : CompositeIdTable(&quot;directors&quot;) {
    val name = varchar(&quot;name&quot;, NAME_LENGTH).entityId()
    val guildId = uuid(&quot;guild_id&quot;).autoGenerate().entityId()
    val genre = enumeration&lt;Genre&gt;(&quot;genre&quot;)

    override val primaryKey = PrimaryKey(name, guildId)
}
</div></div><div class="tabs__content" data-gtm="tab" id="DirectorEntity-definition" data-title="DirectorEntity"><div class="code-block" data-lang="kotlin" data-title="Kotlin" data-disable-link-processing="true">package org.example.entities

import org.example.tables.DirectorsTable
import org.jetbrains.exposed.dao.CompositeEntity
import org.jetbrains.exposed.dao.CompositeEntityClass
import org.jetbrains.exposed.dao.id.CompositeID
import org.jetbrains.exposed.dao.id.EntityID

class DirectorEntity(id: EntityID&lt;CompositeID&gt;) : CompositeEntity(id) {
    companion object : CompositeEntityClass&lt;DirectorEntity&gt;(DirectorsTable)

    var genre by DirectorsTable.genre
}
</div></div></div><p id="add-id-column-tip">If any of the key component columns have already been marked by <code class="code" id="i5nfzy4_84">entityId()</code> in another table, they can still be identified using <code class="code" id="i5nfzy4_85">addIdColumn()</code>. This might be useful for key columns that reference another <code class="code" id="i5nfzy4_86">IdTable</code>:</p><div class="tabs" id="i5nfzy4_56" data-anchors="[DirectorsWithGuildRefTable-definition,GuildsTable-definition]"><div class="tabs__content" data-gtm="tab" id="DirectorsWithGuildRefTable-definition" data-title="DirectorsWithGuildRefTable"><div class="code-block" data-lang="kotlin" data-title="Kotlin" data-disable-link-processing="true">package org.example.tables

import org.jetbrains.exposed.dao.id.CompositeIdTable

const val DIRECTOR_NAME_LENGTH = 50

object DirectorsWithGuildRefTable : CompositeIdTable() {
    val name = varchar(&quot;name&quot;, DIRECTOR_NAME_LENGTH).entityId()
    val guildId = reference(&quot;guild_id&quot;, GuildsTable)
    val genre = enumeration&lt;Genre&gt;(&quot;genre&quot;)

    init {
        addIdColumn(guildId)
    }

    override val primaryKey = PrimaryKey(name, guildId)
}
</div></div><div class="tabs__content" data-gtm="tab" id="GuildsTable-definition" data-title="GuildsTable"><div class="code-block" data-lang="kotlin" data-title="Kotlin" data-disable-link-processing="true">package org.example.tables

import org.jetbrains.exposed.dao.id.UUIDTable

object GuildsTable : UUIDTable(&quot;guilds&quot;)
</div></div></div></section><section class="chapter"><h2 id="custom-column-type" data-toc="custom-column-type">Custom column type table</h2><p id="i5nfzy4_59">To define a custom column type as the primary key and id, use a typed <code class="code" id="i5nfzy4_60">IdTable</code> directly and override the <code class="code" id="i5nfzy4_61">id</code> column, as shown in the following example:</p><div class="tabs" id="i5nfzy4_62" data-anchors="[DirectorCustomEntity-definition,DirectorsCustomTable-definition]"><div class="tabs__content" data-gtm="tab" id="DirectorsCustomTable-definition" data-title="DirectorsCustomTable"><div class="code-block" data-lang="kotlin" data-title="Kotlin" data-disable-link-processing="true">package org.example.tables

import org.jetbrains.exposed.dao.id.EntityID
import org.jetbrains.exposed.dao.id.IdTable
import org.jetbrains.exposed.sql.Column

const val MAX_ID_LENGTH = 32
const val MAX_DIRECTOR_NAME_LENGTH = 32

object DirectorsCustomTable : IdTable&lt;String&gt;() {
    override val id: Column&lt;EntityID&lt;String&gt;&gt; = varchar(&quot;id&quot;, MAX_ID_LENGTH).entityId()
    val name = varchar(&quot;name&quot;, MAX_DIRECTOR_NAME_LENGTH)

    override val primaryKey = PrimaryKey(id)
}
</div></div><div class="tabs__content" data-gtm="tab" id="DirectorCustomEntity-definition" data-title="DirectorCustomEntity"><div class="code-block" data-lang="kotlin" data-title="Kotlin" data-disable-link-processing="true">package org.example.entities

import org.example.tables.DirectorsCustomTable
import org.jetbrains.exposed.dao.Entity
import org.jetbrains.exposed.dao.EntityClass
import org.jetbrains.exposed.dao.id.EntityID

class DirectorCustomEntity(id: EntityID&lt;String&gt;) : Entity&lt;String&gt;(id) {
    companion object : EntityClass&lt;String, DirectorCustomEntity&gt;(DirectorsCustomTable)

    var name by DirectorsCustomTable.name
}
</div></div></div><p id="i5nfzy4_65">In the definition of <code class="code" id="i5nfzy4_66">DirectorsCustomTable</code>, the <code class="code" id="i5nfzy4_67">id</code> field is of type <code class="code" id="i5nfzy4_68">Column&lt;EntityID&lt;String&gt;&gt;</code>, which will hold <code class="code" id="i5nfzy4_69">String</code> values with a length of up to 32 characters. Using the <code class="code" id="i5nfzy4_70">override</code> keyword indicates that this <code class="code" id="i5nfzy4_71">id</code> column is overriding the default <code class="code" id="i5nfzy4_72">id</code> column provided by <code class="code" id="i5nfzy4_73">IdTable</code>.</p><p id="i5nfzy4_74">Once all columns are defined, the <code class="code" id="i5nfzy4_75">id</code> column is explicitly set as the primary key for the table, using the <code class="code" id="i5nfzy4_76">override</code> keyword once again.</p></section><div class="last-modified">Last modified: 30 October 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="dsl-querying-data.html" class="navigation-links__prev">Querying data</a><a href="dao-entity-definition.html" class="navigation-links__next">Entity definition</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.js"></script></body></html>