<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-08-30T12:57:43.903922871"><title>Defining tables | Exposed</title><script type="application/json" id="virtual-toc-data">[{"id":"table","level":0,"title":"Core Table class","anchor":"#table"},{"id":"name-from-object","level":1,"title":"Configure a custom table name","anchor":"#name-from-object"},{"id":"IdTable","level":0,"title":"Convenience IdTable class","anchor":"#IdTable"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Defining tables | Exposed"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Exposed Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/docs/0.54.0/dsl-table-types.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Defining tables | Exposed"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/docs/0.54.0/dsl-table-types.html#webpage",
    "url": "writerside-documentation/docs/0.54.0/dsl-table-types.html",
    "name": "Defining tables | Exposed",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/docs/#website",
    "url": "writerside-documentation/docs/",
    "name": "Exposed Help"
}</script><!-- End Schema.org --></head><body data-id="DSL-Table-Types" data-main-title="Defining tables" data-article-props="{&quot;seeAlso&quot;:[{&quot;title&quot;:&quot;Related topics&quot;,&quot;links&quot;:[{&quot;url&quot;:&quot;table-definition.html&quot;,&quot;text&quot;:&quot;Defining and creating tables&quot;,&quot;tooltip&quot;:&quot;This page shows what table types Exposed supports and how to define and create these tables. It also contains tips on configuring constraints, such as PRIMARY KEY, DEFAULT, and INDEX. All examples use the H2 database to generate SQL.&quot;,&quot;description&quot;:&quot;This page shows what table types Exposed supports and how to define and create these tables. It also contains tips on configuring constraints, such as PRIMARY KEY, DEFAULT, and INDEX. All examples use the H2 database to generate SQL.&quot;},{&quot;url&quot;:&quot;data-types.html&quot;,&quot;text&quot;:&quot;Data Types&quot;,&quot;tooltip&quot;:&quot;Exposed supports the following data types in the table definition:&quot;,&quot;description&quot;:&quot;Exposed supports the following data types in the table definition:&quot;}]}],&quot;seeAlsoStyle&quot;:&quot;cards&quot;}" data-template="article" data-breadcrumbs="Deep Dive into DSL"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Exposed 0.54.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="DSL-Table-Types" id="DSL-Table-Types.topic">Defining tables</h1><section class="chapter"><h2 id="table" data-toc="table">Core <code class="code" id="-65f7qa_3">Table</code> class</h2><p id="-65f7qa_4">In Exposed, the <code class="code" id="-65f7qa_5">Table</code> class is the core abstraction for defining database tables. This class provides methods to define various <a href="data-types.html" id="-65f7qa_6" data-tooltip="Exposed supports the following data types in the table definition:">column types</a>, <a href="table-definition.html#constraints" id="-65f7qa_7" data-tooltip="The NOT NULL SQL constraint restricts the column to accept the null value. By default, Exposed applies this constraint to all the columns. To allow the column to be nullable, apply the nullable() method to a definition of an appropriate column.">constraints</a>, and other table-specific properties.</p><p id="-65f7qa_8">It is located in the <span class="control" id="-65f7qa_9">org.jetbrains.exposed.sql</span> package of the <span class="control" id="-65f7qa_10">exposed-core</span> module.</p><p id="-65f7qa_11">Exposed supports a variety of <a href="data-types.html" id="-65f7qa_12" data-tooltip="Exposed supports the following data types in the table definition:">column types</a>, including <code class="code" id="-65f7qa_13">integer</code>, <code class="code" id="-65f7qa_14">varchar</code>, <code class="code" id="-65f7qa_15">bool</code>, and more. Each column is defined by calling the appropriate method on the <code class="code" id="-65f7qa_16">Table</code> object.</p><p id="-65f7qa_17">The following example defines a simple table with an integer <code class="code" id="-65f7qa_18">id</code> column and a string <code class="code" id="-65f7qa_19">name</code> column:</p><div class="code-block" data-lang="kotlin">
                object Cities : Table() {
                    val id = integer(&quot;id&quot;)
                    val name = varchar(&quot;name&quot;, 50)
                }
            </div><p id="-65f7qa_21">By default, Exposed will generate the table name from the full class name:</p><div class="code-block" data-lang="sql">
                CREATE TABLE IF NOT EXISTS CITIES (ID INT NOT NULL, &quot;name&quot; VARCHAR(50) NOT NULL)
            </div><p id="-65f7qa_23">If the object name contains a 'Table' suffix, Exposed will omit the suffix from the generated table name:</p><div class="code-block" data-lang="kotlin">
                object CitiesTable : Table() {
                    val id = integer(&quot;id&quot;)
                    val name = varchar(&quot;name&quot;, 50)
                }
            </div><div class="code-block" data-lang="sql">
                CREATE TABLE IF NOT EXISTS CITIES (ID INT NOT NULL, &quot;name&quot; VARCHAR(50) NOT NULL)
            </div><section class="chapter"><h3 id="name-from-object" data-toc="name-from-object">Configure a custom table name</h3><p> To configure a custom name for a table, which will be used in actual SQL queries, pass it to the <code class="code" id="-65f7qa_27">name</code> parameter of the <code class="code" id="-65f7qa_28">Table()</code> constructor. </p><div class="code-block" data-lang="kotlin">
                    object Cities : Table(&quot;all_cities&quot;) {
                        val id = integer(&quot;id&quot;)
                        val name = varchar(&quot;name&quot;, 50)
                    }
                </div><div class="code-block" data-lang="sql">
                    CREATE TABLE IF NOT EXISTS ALL_CITIES (ID INT NOT NULL, &quot;name&quot; VARCHAR(50) NOT NULL)
                </div><p id="-65f7qa_31">Some databases, like H2, fold unquoted identifiers to upper case. To keep table name case-sensitivity, manually quote the provided argument:</p><div class="code-block" data-lang="kotlin">
                    object Cities : Table(&quot;\&quot;all_cities\&quot;&quot;) {
                        val id = integer(&quot;id&quot;)
                        val name = varchar(&quot;name&quot;, 50)
                    }
                </div><div class="code-block" data-lang="sql">
                    CREATE TABLE IF NOT EXISTS &quot;all_cities&quot; (ID INT NOT NULL, &quot;name&quot; VARCHAR(50) NOT NULL)
                </div><p id="-65f7qa_34">Depending on what DBMS you use, the types of columns could be different in actual SQL queries.</p></section></section><section class="chapter"><h2 id="IdTable" data-toc="IdTable">Convenience <code class="code" id="-65f7qa_36">IdTable</code> class</h2><p id="-65f7qa_37">While <code class="code" id="-65f7qa_38">Table</code> is the foundational class for defining tables, Exposed also provides the base <code class="code" id="-65f7qa_39">IdTable</code> convenience class. This class extends <code class="code" id="-65f7qa_40">Table</code> and is designed to simplify the definition of tables that use a standard <code class="code" id="-65f7qa_41">id</code> column as the primary key.</p><p id="-65f7qa_42">For example, to provide an auto-incrementing <code class="code" id="-65f7qa_43">id</code> column of type <code class="code" id="-65f7qa_44">Int</code>, you can use the <code class="code" id="-65f7qa_45">IntIdTable</code> subtype:</p><div class="code-block" data-lang="kotlin">
            object StarWarsFilms : IntIdTable() {
                val sequelId = integer(&quot;sequel_id&quot;).uniqueIndex()
                val name = varchar(&quot;name&quot;, 50)
                val director = varchar(&quot;director&quot;, 50)
            }
        </div><aside class="prompt" data-type="note" data-title="" id="-65f7qa_47"><p>It is important to note that the <code class="code" id="-65f7qa_48">id</code> column in this case is of type <code class="code" id="-65f7qa_49">Column&lt;EntityID&lt;Int&gt;&gt;</code>. This means that to access the <code class="code" id="-65f7qa_50">id</code> column value, you need to use the <code class="code" id="-65f7qa_51">.value</code> property: </p><div class="code-block" data-lang="kotlin">
                val idValue = StarWarsFilms.id.value
            </div></aside><aside class="prompt" data-type="tip" data-title="" id="-65f7qa_53"><p><code class="code" id="-65f7qa_54">EntityID</code> is a wrapper class commonly associated with Exposed's DAO API, but it is also used in <code class="code" id="-65f7qa_55">IdTable</code> classes within the DSL. This wrapper ensures that the <code class="code" id="-65f7qa_56">id</code> values are handled consistently across the DSL and DAO APIs. </p><p id="-65f7qa_57">For more information on <code class="code" id="-65f7qa_58">EntityID</code> and how it integrates with the DAO API, see <a href="deep-dive-into-dao.html" id="-65f7qa_59" data-tooltip="The DAO (Data Access Object) API of Exposed, is similar to ORM frameworks like Hibernate with a Kotlin-specific API.A DB table is represented by an object inherited from org.jetbrains.exposed.sql.Table like this:">the DAO documentation</a>.</p></aside></section><div class="last-modified">Last modified: 30 August 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="working-with-schema.html" class="navigation-links__prev">Working with Schema</a><a href="dsl-crud-operations.html" class="navigation-links__next">CRUD operations</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.js"></script></body></html>